

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
from aoc2024.core import *
import copy
```

``` python
with open("../data/d2.txt", "r") as f:
    inp = f.read()

data = Parser(inp)
```

``` python
def line():
    return mapper(sequence([
        many(sequence([integer(),ws_()])),nl_()]),[lambda x: [xs[0] for xs in x[0]]])
```

``` python
data.r()
line()(data)
```

    (True,[44, 47, 48, 49, 48],)

``` python
def check_inc(ls):
    l,r=0,1
    while r < len(ls):
        d = ls[r]-ls[l]
        if (d < 1) or (d > 3): return False
        r+=1
        l+=1
    return True
    
def check_dec(ls):
    l,r=0,1
    while r < len(ls):
        d = ls[l]-ls[r]
        if (d < 1) or (d > 3): return False
        r+=1
        l+=1
    return True
```

``` python
def check2_inc(ls):
    l,r=0,1
    while r < len(ls):
        d = ls[r]-ls[l]
        if (d < 1) or (d > 3): 
            trash1 = copy.deepcopy(ls)
            trash2 = copy.deepcopy(ls)
            trash1.pop(l)
            trash2.pop(r)
            return check_inc(trash1) or check_dec(trash1) or check_inc(trash2) or check_dec(trash2)
        r+=1
        l+=1
    return True
    
def check2_dec(ls):
    l,r=0,1
    while r < len(ls):
        d = ls[l]-ls[r]
        if (d < 1) or (d > 3): 
            trash1 = copy.deepcopy(ls)
            trash2 = copy.deepcopy(ls)
            trash1.pop(l)
            trash2.pop(r)
            return check_inc(trash1) or check_dec(trash1) or check_inc(trash2) or check_dec(trash2)
        r+=1
        l+=1
    return True
```

``` python
data.r()
res = many(line())(data)
len([x for x in res.v if check_inc(x) or check_dec(x)])
```

    432

``` python
data.r()
res = many(line())(data)
len([x for x in res.v if check2_inc(x) or check2_dec(x)])
```

    488



``` python
```

    The autoreload extension is already loaded. To reload it, use:
      %reload_ext autoreload

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
from aoc2024.core import *
```

``` python
with open('../data/d1.txt','r') as f:
    raw = f.read()

p = Parser(raw)
```

``` python
class part1_acc():
    def __init__(self):
        self.l,self.r = [],[]

    def add(self,row):
        self.l.append(row[0])
        self.r.append(row[1])

    def __iter__(self):
        self.l.sort()
        self.r.sort()
        for idx,lx in enumerate(self.l):
            yield abs(lx-self.r[idx])
```

``` python
def line(): return sequence([integer(),ws_(),integer(),nl_()])
```

``` python
p.r()
acc = part1_acc()
accumulator(line(),acc)(p)
acc.l.sort()
acc.r.sort()
res = 0
for lx,rx in iter(acc):
    res += abs(lx-rx)
res
```

    2769675

``` python
p.r()
acc = part1_acc()
mapper(
    accumulator(line(),acc),
    [lambda x: sum(iter(acc),0)])(p)
```

    (True,2769675,)

``` python
class part2_acc():
    def __init__(self):
        self.l = []
        self.r = {}

    def add(self,row):
        self.l.append(row[0])
        self.r[row[1]] = self.r.get(row[1],0) + 1

    def __iter__(self):
        for idx,lx in enumerate(self.l):
            yield lx*self.r.get(lx,0)
```

``` python
p.r()
acc2 = part2_acc()
mapper(
    accumulator(line(),acc2),
    [lambda x: sum(iter(acc2),0)])(p)
```

    (True,24643097,)
